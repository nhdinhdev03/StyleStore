:root {
  --header-height: 80px;
  --header-mobile-height: 60px;
  --color-primary: #1a1a1a;
  --color-accent: #000000; /* Changed from orange to black */
  --color-accent-light: rgba(0, 0, 0, 0.08); /* Light black for subtle effects */
  --color-text: #2c2c2c;
  --color-light: #f8f9fa;
  --color-gray: #6c757d;
  --color-gray-light: #e9ecef;
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
  --transition: 0.2s ease; // Reduced from 0.3s and simplified timing function
  --container-width: 1600px;
  --dropdown-width: 280px;
  --dropdown-bg: white;
  --dropdown-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  --megamenu-width: 100%;
  --gl-body-font-set-size-functional-4: 14px;
  --gl-spacing-0100: 16px;
  --gl-body-font-family-functional-2: "Roboto";
  --gl-font-family-fallback: sans-serif;
  --gl-body-font-size-functional-2: 14px;
  --gl-body-font-style-functional-2: normal;
  --gl-body-font-weight-functional-2: 500;
  --gl-body-font-letterspacing-functional-2: 0.5px;
  --gl-body-font-lineheight-functional-2: 1.4;
  --gl-body-font-decoration-functional-2: none;
  --gl-body-font-case-functional-2: uppercase;
  --gl-button-font-set-weight-functional-1: 700;

  // Add responsive breakpoints
  --breakpoint-4k: 2560px;
  --breakpoint-laptop: 1024px;
  --breakpoint-tablet: 768px;
  --breakpoint-mobile-l: 425px;
  --breakpoint-mobile-m: 375px;
  --breakpoint-mobile-s: 320px;

  // Update colors
  --background-color: #f5f5f5;
  --text-color: #262626;
  --card-bg: #ffffff;
  --border-color: #e8e8e8;

  // Add responsive container widths
  --container-4k: 2000px;
  --container-desktop: 1200px;
  --container-laptop: 900px;
  --container-tablet: 100%;

  // ... existing variables ...
  --font-size-base: 16px; // Base font size for desktop context
  --font-size-sm: 14px;
  --font-size-xs: 12px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;

  // Mobile specific (can be overridden in responsive)
  --mobile-font-size-base: 15px;
  --mobile-font-size-sm: 13px;
  --mobile-font-size-xs: 11px;
  // ... add more if needed

  // Update existing font size variables if they conflict or are redundant
  --gl-body-font-set-size-functional-4: var(--font-size-sm); // Example update
  --gl-body-font-size-functional-2: var(--font-size-sm); // Example update
}
.desktop-nav ul li.has-mega-menu {
  position: static !important; /* Phải static để mega-menu thoát khỏi giới hạn của cha */
}
// Common mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin hover-transition {
  transition: all 0.2s ease;
}

@mixin icon-button {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  @include flex-center;
  color: var(--color-primary);
  background: transparent;
  border: none;
  cursor: pointer;
  @include hover-transition;

  &:hover {
    background: rgba(0, 0, 0, 0.05); /* Changed from orange to black */
    color: var(--color-accent);
  }
}

// Optimized shared styles for menu headers
@mixin menu-header-styles {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  height: 60px;
  position: sticky;
  top: 0;
  background: white;
  z-index: 15;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  background: rgba(255, 255, 255, 0.98);
}

// Optimized button styles for back and close buttons
@mixin header-button-styles {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: #f5f5f5;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--color-text);
  transition: all 0.2s ease;

  &:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--color-accent);
  }

  &:active {
    transform: scale(0.95);
    background: rgba(0, 0, 0, 0.1);
  }
}

// Optimized content area styles
@mixin menu-content-styles {
  flex: 1;
  overflow-y: auto;
  // margin-top: 4px;
  padding: 12px 16px;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;

  &::-webkit-scrollbar {
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--color-accent);
    border-radius: 4px;
  }
}

// New mixins
@mixin menu-title {
  flex: 1;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  margin: 0;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

@mixin menu-item-base {
  width: 100%;
  padding: 14px;
  margin-bottom: 8px;
  text-align: left;
  background: #f8f8f8;
  border: none;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.2s ease;

  &:hover, &:active {
    background: #f0f0f0;
  }
}

// Add new mixins
@mixin menu-list-base {
  list-style: none;
  padding: 0;
  margin: 0;
}

@mixin menu-link-base {
  display: block;
  text-decoration: none;
  color: var(--color-text);
  transition: all 0.2s ease;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
}

// Base styles
body,
html {
  font-family: "Roboto", sans-serif;
}

// Header component
.header {
  width: 100%;
  box-shadow: var(--shadow-sm);
  position: sticky;
  top: 0;
  z-index: 1000;
  background: linear-gradient(270deg, #ffffff 0%, #f4f4f4 100%);
  transition: box-shadow 0.2s ease; // Specific property transition instead of all

  .mega-menu-wrapper {
    position: static;
    width: 100%;
  }

  .mega-menu {
    position: fixed;
    top: 120px;
    left: 0;
    right: 0;
    width: 100vw;
    background: white;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    padding: 20px 0;
    z-index: 999;
    transition: opacity 0.15s ease;
    overflow-y: auto;
    max-height: calc(100vh - 120px);
    transform: none !important;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);

    &.scrolled {
      top: 60px;
      max-height: calc(100vh - 60px);
    }

    &.active {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .mega-menu-inner {
      max-width: var(--container-width);
      width: 100%;
      margin: 0 auto;
      padding: 30px 20px;

      .mega-menu-categories {
        display: grid;
        grid-template-columns: 3fr 3fr 3fr 3fr 4fr; // Điều chỉnh cột cuối rộng hơn
        gap: 30px; // Tăng khoảng cách giữa các cột
        margin-bottom: 20px;
        position: relative;

        // Thêm đường kẻ dọc giữa các cột
        .category-column:not(:last-child)::after {
          content: "";
          position: absolute;
          top: 0;
          right: -15px;
          height: 100%;
          width: 1px;
          background: var(--color-gray-light);
        }

        .category-column {
          position: relative;
          padding: 0 15px;

          h4 {
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--color-primary);
            margin: 0 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-gray-light);

            &.highlight {
              color: var(--color-accent);
              border-bottom-color: var(--color-accent);
            }
          }

          ul {
            display: flex;
            flex-direction: column;
            gap: 8px; // Thêm khoảng cách giữa các items

            li a {
              display: block;
              padding: 8px 0;
              font-size: 14px;
              color: var(--color-text);
              transition: all 0.2s ease;

              &:hover {
                color: var(--color-accent);
                padding-left: 10px;
              }

              &.new-item::after {
                content: "Mới";
                margin-left: 8px;
                font-size: 11px;
                padding: 2px 6px;
                border-radius: 10px;
                background: var(--color-accent);
                color: white;
              }
            }
          }
        }

        // Featured column styling
        .featured-column {
          grid-column: 5;
          padding-left: 30px;

          .featured-image {
            height: 100%;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

            img {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .featured-content {
              position: absolute;
              bottom: 0;
              left: 0;
              width: 100%;
              padding: 20px;
              background: linear-gradient(
                to top,
                rgba(0, 0, 0, 0.8),
                transparent
              );
              color: white;
            }
          }
        }
      }

      // Quick links section
      .quick-links {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid var(--color-gray-light);
        display: flex;
        gap: 30px;
        justify-content: center;

        .quick-link {
          color: var(--color-accent);
          font-weight: 500;
          transition: all 0.2s ease;

          &:hover {
            text-decoration: underline;
          }
        }
      }
    }
  }

  &.scrolled {
    position: fixed;
    width: 100%;
    background: white;
    transform: translateY(-100%); // Initially hide when scrolled
    transition: transform 0.3s ease;

    &.visible {
      transform: translateY(0); // Show when scrolling up
    }

    .top-bar {
      height: 0;
      padding: 0;
      margin: 0;
      opacity: 0;
      visibility: hidden;
      overflow: hidden;
      position: absolute;
      top: 0;
    }

    ._header_top_svty4_0 {
      height: 0;
      padding: 0;
      margin: 0;
      opacity: 0;
      visibility: hidden;
      position: absolute;
      top: 0;
      overflow: hidden;
    }

    .main-nav {
      height: var(--header-mobile-height);
      transform: translateY(0);

      .nav-wrapper {
        padding-top: 8px;
        padding-bottom: 8px;
      }

      .container {
        padding-top: 0;
      }
    }

    .mega-menu {
      top: var(--header-mobile-height) !important;
    }
  }

  .top-bar {
    background: black;
    padding: 8px max(20px, calc((100% - var(--container-width)) / 2));
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: var(--font-size-xs); // Smaller font for top bar
    position: relative; // Thêm position relative
    z-index: 5;

    .contact-info {
      display: flex;
      gap: 20px;

      span {
        display: flex;
        align-items: center;
        gap: 5px;

        svg {
          color: var(--color-light);
          font-size: 14px;
        }

        a {
          color: var(--color-light);
          text-decoration: none;
          transition: var(--transition);
          font-size: inherit; // Inherit from top-bar

          &:hover {
            color: var(--color-accent);
          }
        }
      }
    }

    .brand-desc-wrapper {
      flex: 2;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      min-height: 20px; // Fixed height to prevent layout shifts
      height: 20px;
      overflow: hidden;

      .brand-desc {
        margin: 0;
        font-size: 13px;
        color: var(--color-light);
        text-align: center;
        letter-spacing: 0.3px;
        font-weight: 500;
        position: absolute;
        width: 100%;
        padding: 0 15px;
        left: 0;
        right: 0;
      }
    }

    .auth-buttons-wrapper {
      flex: 1;
      min-width: fit-content; // Ensure buttons don't shrink
      display: flex;
      justify-content: flex-end;

      .auth-buttons {
        display: flex;
        gap: 10px;

        .btn-login,
        .btn-register {
          padding: 6px 14px;
          border: none;
          border-radius: 20px;
          cursor: pointer;
          transition: var(--transition);
          text-decoration: none;
          font-size: var(--font-size-xs); // Consistent small size
          font-weight: 500;
          display: inline-flex;
          align-items: center;
        }

        .btn-login {
          background: var(--color-primary);
          color: white;

          &:hover {
            background: rgba(0, 0, 0, 0.05);
          }
        }

        .btn-register {
          background: var(--color-primary);
          color: white;

          &:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
          }
        }
      }
    }
  }

  .main-nav {
    // height: var(--header-height);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0 max(20px, calc((100% - var(--container-width)) / 2));
    background: white;
    position: relative; // Thêm position relative
    z-index: 10;

    .container {
      max-width: var(--container-width);
      margin: 0 auto;
      height: 100%;
      padding: 0;
      transition: padding 0.3s ease;

      @media (min-width: var(--breakpoint-4k)) {
        max-width: 2000px;
        padding: 0 40px;
      }

      @media (max-width: var(--breakpoint-laptop)) {
        max-width: 900px;
      }

      @media (max-width: var(--breakpoint-tablet)) {
        padding: 0 15px;
      }

      @media (max-width: var(--breakpoint-mobile-l)) {
        padding: 0 12px;
      }

      @media (max-width: var(--breakpoint-mobile-m)) {
        padding: 0 10px;
      }
    }

    .nav-wrapper {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 100%;

      transition: all 0.3s ease;

      @media (min-width: var(--breakpoint-4k)) {
        padding: 20px 0;
      }

      @media (max-width: var(--breakpoint-laptop)) {
        padding: 12px 0;
      }

      @media (max-width: var(--breakpoint-tablet)) {
        padding: 10px 0;
      }

      @media (max-width: var(--breakpoint-mobile-l)) {
        padding: 8px 0;
      }
    }
    .mobile-menu-toggle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: transparent;
      border: none;
      cursor: pointer;
      display: none; // Hidden by default, shown in mobile
      align-items: center;
      justify-content: center;
      position: relative;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      color: var(--color-primary);

      &:hover {
        background: rgba(255, 68, 0, 0.1);
        color: var(--color-accent);
        transform: scale(1.05);
      }

      &:active {
        transform: scale(0.95);
      }

      svg {
        font-size: 24px;
        transition: transform 0.3s ease;
      }

      // Custom ripple effect
      &::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: rgba(255, 68, 0, 0.2);
        opacity: 0;
        transform: scale(0.5);
        transition: all 0.3s ease;
      }

      &:active::after {
        opacity: 1;
        transform: scale(1.2);
        transition: 0s;
      }

      // Show in mobile view
      @media (max-width: 1024px) {
        display: flex;
        margin-left: 8px;
      }

      // Adjust for smaller screens
      @media (max-width: 480px) {
        width: 36px;
        height: 36px;

        svg {
          font-size: 20px;
        }
      }
    }

    .logo {
      text-decoration: none;
      // padding-right: 30px;

      h1 {
        font-size: 1.8rem;
        font-weight: 800;
        color: red;
        margin: 0;

        @media (min-width: var(--breakpoint-4k)) {
          font-size: 2.5rem;
        }

        @media (max-width: var(--breakpoint-laptop)) {
          font-size: 2rem;
        }

        @media (max-width: var(--breakpoint-tablet)) {
          font-size: 1.8rem;
        }

        @media (max-width: var(--breakpoint-mobile-l)) {
          font-size: 1.5rem;
        }

        span {
          color: var(--color-accent);
        }
      }

      img {
        max-height: 45px;
        width: auto;
      }
    }

    .desktop-nav {
      justify-content: center;
      display: flex;
      height: 58px;
      flex: 1;

      ul {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        height: 100%;

        li {
          position: relative;
          height: 100%;
          display: flex;
          align-items: center;

          a {
            display: flex;
            position: relative;
            height: 100%;
            white-space: nowrap;
            padding: 0 var(--gl-spacing-0100);
            justify-content: center;
            align-items: center;
            font-family: var(--gl-body-font-family-functional-2),
              var(--gl-font-family-fallback);
            font-size: var(--font-size-sm); // Standard nav item size
            font-style: var(--gl-body-font-style-functional-2);
            letter-spacing: var(--gl-body-font-letterspacing-functional-2);
            line-height: var(--gl-body-font-lineheight-functional-2);
            text-decoration: var(--gl-body-font-decoration-functional-2);
            text-transform: var(--gl-body-font-case-functional-2);
            transition: var(--transition);

   
   

            svg {
              margin-left: 4px;
            }
            &.primary-item,
            &.special-item {
              > a {
                font-weight: var(--gl-button-font-set-weight-functional-1);
                letter-spacing: 0.5px;
              }
            }

            &.special-item > a {
              color: var(--color-accent);
            }
          }

          &.dropdown,
          &.megamenu {
            &:hover .dropdown-menu,
            &:hover .mega-menu {
              opacity: 1;
              visibility: visible;
              transform: translateY(0);
              pointer-events: auto;
            }

            .dropdown-toggle svg {
              transition: var(--transition);
            }

            &:hover .dropdown-toggle svg {
              transform: rotate(180deg);
            }
          }

          .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
          }

          /* Điều chỉnh danh sách hiển thị theo dạng grid */
          .dropdown-menu ul {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* Chia thành 5 cột */
            gap: 20px;
            width: 90%;
            max-width: 1400px;
          }

          .dropdown-menu ul li {
            list-style: none;
            text-align: left;
          }

          .dropdown-menu ul li a {
            display: block;
            padding: 10px 15px;
            font-weight: 500;
            color: var(--color-text);
            text-decoration: none;
            transition: background 0.3s ease;
          }

          .dropdown-menu ul li a:hover {
            background: rgba(0, 0, 0, 0.05);
          }

          /* Mega Menu - Hiển thị full màn hình */
          .mega-menu {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100vw; /* Chiếm toàn bộ chiều rộng màn hình */
            background: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s ease-in-out;
            z-index: 999;
            pointer-events: none;
            padding: 20px 0;

            .category-column {
              h4 {
                color: var(--color-primary);
                font-size: 1rem; // 16px title for categories
                margin: 0 0 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--color-gray-light);
              }

              ul {
                display: flex;
                flex-direction: column;
                height: auto;

                li {
                  height: auto;

                  a {
                    padding: 8px 0;
                    height: auto;
                    font-weight: normal;
                    font-size: var(--font-size-sm); // 14px for links

                    &:hover {
                      color: var(--color-accent);
                      padding-left: 5px;
                    }
                  }
                }
              }

              .featured-image {
                margin-top: 15px;
                border-radius: 8px;
                overflow: hidden;
                position: relative;

                img {
                  width: 100%;
                  height: auto;
                  transition: transform 0.5s ease;
                }

                .featured-info {
                  position: absolute;
                  bottom: 0;
                  left: 0;
                  width: 100%;
                  padding: 15px;
                  background: linear-gradient(
                    to top,
                    rgba(0, 0, 0, 0.8),
                    transparent
                  );
                  color: white;

                  h5 {
                    font-size: var(--font-size-lg); // 18px
                    margin-bottom: 5px;
                  }

                  p {
                    font-size: var(--font-size-sm); // 14px
                    opacity: 0.8;
                  }

                  .featured-btn {
                    display: inline-block;
                    margin-top: 10px;
                    font-size: var(--font-size-xs); // 12px
                    padding: 5px 10px;
                    background-color: var(--color-accent);
                    color: white;
                    border-radius: 4px;

                    &:hover {
                      background-color: darken(#ff4400, 10%);
                    }
                  }
                }

                &:hover img {
                  transform: scale(1.05);
                }
              }

              &.brands-column {
                .brands-grid {
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 10px;

                  .brand-item {
                    padding: 10px;
                    border: 1px solid var(--color-gray-light);
                    border-radius: 5px;
                    text-align: center;
                    transition: var(--transition);

                    img {
                      max-width: 100%;
                      height: auto;
                    }

                    &:hover {
                      border-color: var(--color-accent);
                      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

    .user-actions {
      display: flex;
      align-items: center;
      gap: 5px;

      .action-icon {
        @include icon-button;
        position: relative;

        svg {
          font-size: 20px;
        }

        .count-badge {
          position: absolute;
          top: -2px;
          right: -2px;
          width: 18px; // Adjust size if needed
          height: 18px;
          background: var(--color-accent);
          color: white;
          font-size: 10px; // Very small for badge count
          font-weight: bold;
          @include flex-center;
          border-radius: 50%;
          box-shadow: 0 2px 5px rgba(255, 68, 0, 0.3);
          border: 2px solid white;
        }

        .notification-dot {
          position: absolute;
          top: 6px;
          right: 8px;
          width: 8px;
          height: 8px;
          background: var(--color-accent);
          border-radius: 50%;
          border: 2px solid white;
          box-shadow: 0 2px 3px rgba(255, 68, 0, 0.3);
        }

        &.user-icon {
          &:hover .user-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
          }

          .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 280px;
            background: var(--dropdown-bg);
            border-radius: 8px;
            box-shadow: var(--dropdown-shadow);
            padding: 15px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.25s ease;
            z-index: 100;
            pointer-events: none;
            margin-top: 10px;

            .user-info {
              display: flex;
              align-items: center;
              padding-bottom: 15px;
              border-bottom: 1px solid var(--color-gray-light);
              margin-bottom: 15px;

              .avatar {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                overflow: hidden;
                background: var(--color-gray-light);
                margin-right: 15px;

                img {
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                }
              }

              .user-details {
                h4 {
                  font-size: 16px;
                  margin: 0;
                }

                p {
                  font-size: 13px;
                  color: var(--color-gray);
                  margin: 2px 0 0;
                }
              }
            }

            .user-links {
              list-style: none;
              padding: 0;
              margin: 0;

              li {
                a {
                  display: flex;
                  align-items: center;
                  padding: 10px 0;
                  color: var(--color-text);
                  text-decoration: none;
                  font-size: 14px;
                  transition: var(--transition);

                  svg {
                    margin-right: 12px;
                    font-size: 16px;
                  }

                  &:hover {
                    color: var(--color-accent);
                  }
                }

                &:last-child {
                  margin-top: 10px;
                  padding-top: 10px;
                  border-top: 1px solid var(--color-gray-light);

                  a {
                    color: #dc3545;

                    &:hover {
                      color: darken(#dc3545, 10%);
                    }
                  }
                }
              }
            }
          }
        }

        @media (min-width: var(--breakpoint-4k)) {
          width: 48px;
          height: 48px;

          svg {
            font-size: 24px;
          }
        }

        @media (max-width: var(--breakpoint-mobile-l)) {
          width: 36px;
          height: 36px;

          svg {
            font-size: 18px;
          }
        }
      }
    }
  }

  .search-bar {
    background: white;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    padding: 15px 0;
    box-shadow: var(--shadow-sm);
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    z-index: 99;

    .container {
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 0 20px;
    }

    form {
      display: flex;
      align-items: center;
      position: relative;

      input {
        flex: 1;
        height: 45px;
        padding: 0 15px;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 25px;
        font-size: 1rem; // 16px for search input
        outline: none;
        transition: var(--transition);

        &:focus {
          border-color: var(--color-accent);
          box-shadow: 0 0 0 3px rgba(255, 68, 0, 0.1);
        }
      }

      button {
        position: absolute;
        right: 5px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--color-accent);
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition);

        &:hover {
          background: darken(#ff4400, 10%);
        }
      }
    }

    .search-suggestions {
      position: absolute;
      top: calc(100% + 5px);
      left: 20px;
      right: 20px;
      background: white;
      border-radius: 8px;
      box-shadow: var(--dropdown-shadow);
      padding: 15px;
      z-index: 100;
      transition: opacity 0.2s ease; // Remove transform animations

      .suggestion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;

        h4 {
          font-size: var(--font-size-sm); // 14px
          margin: 0;
        }

        button {
          background: none;
          border: none;
          color: var(--color-accent);
          font-size: var(--font-size-xs); // 12px
          cursor: pointer;
          padding: 0;

          &:hover {
            text-decoration: underline;
          }
        }
      }

      .popular-searches {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 15px;

        a {
          display: inline-block;
          padding: 6px 12px;
          background: var(--color-gray-light);
          border-radius: 20px;
          font-size: 13px;
          color: var(--color-text);
          text-decoration: none;
          transition: var(--transition);

          &:hover {
            background: rgba(255, 68, 0, 0.1);
            color: var(--color-accent);
          }
        }
      }

      .suggested-products {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;

        .product-item {
          text-decoration: none;
          color: var(--color-text);
          transition: var(--transition);

          .product-image {
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 8px;

            img {
              width: 100%;
              height: auto;
            }
          }

          .product-info {
            h5 {
              font-size: var(--font-size-sm); // 14px
              margin: 0 0 5px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }

            .price {
              color: var(--color-accent);
              font-weight: 600;
              font-size: var(--font-size-sm); // 14px
            }
          }

          &:hover {
            transform: translateY(-2px);
          }
        }
      }
    }
  }

  .mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 85%;
    max-width: 400px;
    height: 100vh;
    background: white;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.1);
    z-index: 2001; // Tăng z-index
    display: flex;
    flex-direction: column;
    padding: 20px;
    overflow-y: auto;
    overscroll-behavior: contain; // Ngăn scroll lan truyền
    -webkit-overflow-scrolling: touch; // Smooth scroll cho iOS
    will-change: transform; // Tối ưu GPU
    transform: translateX(-100%); // Ban đầu ẩn về bên trái
    transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1); // Timing function mượt
    backface-visibility: hidden;

    @media (min-width: var(--breakpoint-4k)) {
      width: 500px;
      padding: 30px;
    }

    @media (max-width: var(--breakpoint-laptop)) {
      width: 400px;
      padding: 24px;
    }

    @media (max-width: var(--breakpoint-tablet)) {
      width: 320px;
      padding: 20px;
    }

    @media (max-width: var(--breakpoint-mobile-m)) {
      width: 100%;
      padding: 16px;
    }

    &.active {
      transform: translateX(0);

      & + .mobile-menu-backdrop {
        opacity: 1;
        visibility: visible;
      }
    }

    .submenu {
      transition: max-height 0.15s ease-out, opacity 0.15s ease-out;
      will-change: max-height, opacity;
    }

    .submenu-label svg {
      transition: transform 0.15s ease;
      will-change: transform;
    }

    .mobile-menu-header {
      @include menu-header-styles;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);

      .menu-logo {
        flex: 1;
        padding-right: 48px; // Make space for close button

        h2 {
          font-size: clamp(1.125rem, 4vw, 1.3rem);
          margin: 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;

          span {
            color: var(--color-accent);
          }
        }
      }

      .close-menu {
        @include header-button-styles;
        position: absolute;
        right: 4px;
        top: 50%;
        transform: translateY(-50%);
        width: 44px; // Larger touch target
        height: 44px; // Larger touch target
        border-radius: 50%;
        background: transparent;
        color: var(--color-primary);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform, background-color;

        svg {
          font-size: 24px;
          transition: transform 0.2s ease;
        }

        // Visual feedback states
        &:hover {
          background: rgba(0, 0, 0, 0.05);
          transform: translateY(-50%) scale(1.05);
        }

        &:active {
          transform: translateY(-50%) scale(0.95);
          background: rgba(0, 0, 0, 0.1);
        }

        // Add ripple effect
        &::after {
          content: "";
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background: rgba(0, 0, 0, 0.15);
          opacity: 0;
          transform: scale(0.5);
          transition: 0.2s ease-out;
        }

        &:active::after {
          opacity: 1;
          transform: scale(1.2);
          transition: 0s;
        }
      }
    }

    .mobile-search {
      position: relative;
      margin-bottom: 20px;

      input {
        width: 100%;
        height: 45px;
        padding: 0 15px;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 25px;
        font-size: 14px;
        outline: none;
        transition: var(--transition);

        &:focus {
          border-color: var(--color-accent);
          box-shadow: 0 0 0 3px rgba(255, 68, 0, 0.1);
        }
      }

      button {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        color: var(--color-gray);
        transition: var(--transition);

        &:hover {
          color: var(--color-accent);
        }
      }
    }

    nav.mobile-nav {
      padding-top: 4px;
      flex: 1;
      overflow-y: auto;
      overscroll-behavior: contain;
      display: flex;
      flex-direction: column;

      // Main menu styling
      .main-menu {
        // @include menu-content-styles;
        
        .menu-item {
          @include menu-item-base;
          color: var(--color-text);
          text-decoration: none;
          font-weight: 500;

          &.special {
            color: var(--color-accent);
            font-weight: bold;
          }
        }
      }

      // Submenu styling
      .submenu-view {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        z-index: 11;
        display: flex;
        flex-direction: column;

        .submenu-header {
          @include menu-header-styles;
          
          h3 {
            @include menu-title;
          }

          .back-button {
            @include header-button-styles;
            width: auto;
            padding: 0 12px;
            border-radius: 20px;
            gap: 4px;
            
            span {
              font-size: 14px;
            }
          }

          .close-submenu {
            @include header-button-styles;
          }
        }

        .submenu-content {
          @include menu-content-styles;

          .group-header {
            @include menu-header-styles;
            
            h4 {
              flex: 1;
              font-size: 15px;
              font-weight: 600;
              text-align: center;
              margin: 0;
              position: absolute;
              left: 50%;
              transform: translateX(-50%);
            }

            .back-button {
              @include header-button-styles;
              width: auto;
              padding: 0 12px;
              border-radius: 20px;
              gap: 4px;
              
              span {
                font-size: 14px;
              }
            }
          }

          .submenu-groups {
            list-style: none;
            padding: 0;
            margin: 0;

            .group-button {
              @include menu-item-base;
              font-weight: 500;

              &.highlight {
                background: rgba(255, 68, 0, 0.08);
                color: var(--color-accent);
              }
            }
          }

          .group-items {
            @include menu-list-base;
            margin-top: 60px;
            display: flex;
            flex-direction: column;
            gap: 8px;

            li {
              a {
                @include menu-link-base;
                @include menu-item-base;
                padding: 16px;
                background: #f8f8f8;
                display: flex;
                align-items: center;
                justify-content: space-between;
                
                &:hover {
                  background: #f0f0f0;
                  transform: translateX(2px);
                }

                &:active {
                  transform: translateX(4px);
                  background: #e8e8e8;
                }

                &.new-item {
                  position: relative;
                  
                  &::after {
                    content: "Mới";
                    margin-left: 8px;
                    padding: 4px 8px;
                    font-size: var(--font-size-xs); // 12px for 'New' tag
                    font-weight: 600;
                    color: white;
                    background: var(--color-accent);
                    border-radius: 12px;
                  }
                }
              }
            }
          }

          .mobile-quick-links {
            margin-top: 24px;
            margin-bottom: 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            
            .mobile-quick-link {
              padding: 10px 16px;
              background: rgba(255, 68, 0, 0.08);
              border-radius: 20px;
              color: var(--color-accent);
              font-size: 14px;
              font-weight: 500;
              text-decoration: none;
              
              &:hover, &:active {
                background: rgba(255, 68, 0, 0.12);
              }
            }
          }
        }
      }
    }

    .mobile-menu-footer {
      margin-top: auto;
      padding: 16px 20px calc(16px + env(safe-area-inset-bottom));
      border-top: 1px solid rgba(0, 0, 0, 0.08);
      background: linear-gradient(to bottom, rgba(255,255,255,0.95), white);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      position: sticky;
      bottom: 0;

      .user-actions-mobile {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-bottom: 16px;

        .action-btn {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          background: #f8f8f8;
          border-radius: 12px;
          color: var(--color-text);
          text-decoration: none;
          transition: all 0.2s ease;
          position: relative;
          overflow: hidden;

          svg {
            width: 20px;
            height: 20px;
            color: var(--color-accent);
            margin-right: 12px;
            flex-shrink: 0;
          }

          span {
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          .count-indicator {
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            min-width: 20px;
            height: 20px;
            padding: 0 6px;
            border-radius: 10px;
            background: var(--color-accent);
            color: white;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          &:active {
            transform: scale(0.98);
            background: #f0f0f0;
          }
        }
      }

      .mobile-auth-buttons {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 20px;

        .mobile-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 14px;
          border-radius: 12px;
          font-weight: 600;
          font-size: 15px;
          text-decoration: none;
          transition: all 0.2s ease;

          svg {
            margin-right: 8px;
            font-size: 18px;
          }

          &:not(.accent) {
            background: #f8f8f8;
            color: var(--color-text);

            &:active {
              background: #f0f0f0;
            }
          }

          &.accent {
            background: var(--color-accent);
            color: white;

            &:active {
              background: darken(#ff4400, 5%);
            }
          }
        }
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 16px;
        padding-top: 8px;
        border-top: 1px solid rgba(0, 0, 0, 0.08);

        a {
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 13px;
          color: var(--color-gray);
          text-decoration: none;
          transition: all 0.2s ease;

          &:active {
            background: rgba(0, 0, 0, 0.05);
            color: var(--color-accent);
          }
        }
      }
    }
  }

  // Hide mobile-menu-header when submenu is active
  &.has-active-submenu {
    .mobile-menu-header {
      display: none;
    }
  }
}

// Optimize transition animations
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.submenu-view, .group-items {
  animation: fadeIn 0.2s ease;
}

@media (max-width: 480px) {
  .mobile-menu {
    .mobile-menu-header, .submenu-header, .group-header {
      height: 56px;
      padding: 0 12px;

      .back-button, .close-menu, .close-submenu {
        width: 38px;
        height: 38px;
      }
    }
  }
}

.gl-example {
  display: flex;
  position: relative;
  height: 100%;
  white-space: nowrap;
  padding: 0 var(--gl-spacing-0100);
  justify-content: center;
  align-items: center;
  font-family: var(--gl-body-font-set-family-functional-2),
    var(--gl-font-family-fallback);
  font-size: var(--gl-body-font-set-size-functional-2);
  font-style: var(--gl-body-font-set-style-functional-2);
  font-weight: var(--gl-body-font-set-weight-functional-2);
  letter-spacing: var(--gl-body-font-set-letterspacing-functional-2);
  line-height: var(--gl-body-font-set-lineheight-functional-2);
  text-decoration: var(--gl-body-font-set-decoration-functional-2);
  text-transform: uppercase;
}

// Media Queries

@media (min-width: 1400px) {
  :root {
    --container-width: 100%;
  }
}

@media (max-width: 1200px) {
  :root {
    --container-width: 100%;
  }
}

@media (max-width: 1023px) {
  .header {
    .top-bar {
      .brand-desc {
        display: none;
      }
    }

    .main-nav {
      .desktop-nav {
        display: none;
      }

      .user-actions {
        .mobile-menu-toggle {
          display: flex;
        }
      }
    }
  }

  .search-bar {
    .search-suggestions {
      .suggested-products {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  }
}

@media (max-width: 768px) {
  .header {
    .top-bar {
      display: none;
    }

    .main-nav {
      height: var(--header-mobile-height);
    }
  }
}

@media (max-width: 480px) {
  .header {
    .main-nav {
      .logo {
        h1 {
          font-size: 1.5rem;
        }
      }

      .user-actions {
        gap: 0;

        .action-icon:not(.mobile-menu-toggle) {
          display: none;
        }
      }

      .mobile-menu {
        width: 100%;
      }
    }
  }

  .search-bar {
    .search-suggestions {
      .suggested-products {
        grid-template-columns: 1fr;
      }
    }
  }
}

// Update the mega-menu styling
.desktop-nav {
  ul {
    li {
      &.bold-text {
        > a {
          font-weight: var(--gl-button-font-set-weight-functional-1);
          letter-spacing: 0.5px;
        }
      }

      &.special-item.bold-text > a {
        color: var(--color-accent);
      }

      &.has-mega-menu {
        position: static;

        &:hover .mega-menu {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
          pointer-events: auto;
        }

        .dropdown-icon {
          margin-left: 4px;
          transition: transform 0.3s ease;
        }

        &:hover .dropdown-icon {
          transform: rotate(180deg);
        }

        a {
          &.active-menu-item {
            color: var(--color-accent);

            position: relative;

            &:after {
              content: "";
              position: absolute;
              bottom: 0;
              left: 0;
              width: 100%;
              height: 2px;
              background-color: var(--color-accent);
            }
          }
        }
      }

      .mega-menu {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100vw; /* Chiếm toàn bộ chiều rộng màn hình */
        background: white;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        opacity: 0;
        visibility: hidden;
        transform: translateY(10px);
        transition: opacity 0.2s ease; // Remove transform animation
        z-index: 999;
        pointer-events: none;
        padding: 20px 0;
        &.active {
          opacity: 1;
          visibility: visible;
          transform: none; // Remove transform animation
          pointer-events: auto;
        }

        .mega-menu-inner {
          max-width: var(--container-width);
          width: 100%;
          margin: 0 auto;
          padding: 30px 20px;

          .mega-menu-categories {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 20px;
            .category-column {
              h4 {
                font-size: 1rem; // 16px title for categories
                font-weight: 600;
                text-transform: uppercase;
                color: var(--color-primary);
                margin: 0 0 15px;
                padding-bottom: 8px;
                border-bottom: 2px solid var(--color-gray-light);
              }

              ul {
                display: flex;
                flex-direction: column;
                height: auto;

                li {
                  height: auto;
                  margin: 2px 0;

                  a {
                    padding: 6px 0;
                    font-size: var(--font-size-sm); // 14px for links
                    font-weight: normal;
                    text-transform: none;
                    letter-spacing: normal;
                    height: auto;
                    color: var(--color-text);

                    &:hover {
                      color: var(--color-accent);
                      padding-left: 5px;
                    }
                  }
                }
              }
            }

            .featured-column {
              grid-column: 5;

              .featured-image {
                height: 100%;
                border-radius: 8px;
                overflow: hidden;
                position: relative;

                img {
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                }

                .featured-content {
                  position: absolute;
                  bottom: 0;
                  left: 0;
                  width: 100%;
                  padding: 20px;
                  background: linear-gradient(
                    to top,
                    rgba(0, 0, 0, 0.8),
                    rgba(0, 0, 0, 0)
                  );
                  color: white;

                  h3 {
                    font-size: var(--font-size-lg); // 18px
                    font-weight: 600;
                    margin: 0 0 8px;
                    text-transform: uppercase;
                  }

                  p {
                    font-size: var(--font-size-sm); // 14px
                    margin: 0 0 15px;
                  }

                  .btn-featured {
                    display: inline-block;
                    padding: 8px 16px;
                    background: var(--color-accent);
                    color: white;
                    border-radius: 4px;
                    text-decoration: none;
                    font-size: var(--font-size-xs); // 12px
                    font-weight: 500;
                    transition: var(--transition);

                    &:hover {
                      background: darken(#ff4400, 10%);
                      transform: translateY(-2px);
                    }
                  }
                }
              }
            }
          }

          .quick-links {
            padding-top: 15px;
            border-top: 1px solid var(--color-gray-light);
            display: flex;
            gap: 20px;

            .quick-link {
              color: var(--color-accent);
              text-decoration: none;
              font-size: var(--font-size-sm); // 14px
              font-weight: 500;
              transition: var(--transition);

              &::after {
                content: "→";
                margin-left: 4px;
                transition: var(--transition);
              }

              &:hover {
                text-decoration: underline;

                &::after {
                  margin-left: 8px;
                }
              }
            }
          }
        }
      }
    }
  }
}



@media (max-width: 1024px) {
  .mega-menu-categories {
    grid-template-columns: repeat(2, 1fr);

    .featured-column {
      grid-column: auto;
      grid-row: 1;


      .featured-image {
        height: 200px;
      }
    }
  }
}



@media (max-width: 768px) {
  .mega-menu-categories {
    grid-template-columns: 1fr;

    .featured-column {
      grid-column: auto;
      grid-row: auto;
    }
  }
}
.user-actions {
  display: flex;
  align-items: center;
  gap: 5px;

  .action-icon {
    position: relative;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-primary);
    background: transparent;
    border: none;
    cursor: pointer;
    transition: var(--transition);
    text-decoration: none;

    svg {
      font-size: 20px;
    }

    &:hover {
      background: rgba(255, 68, 0, 0.1);
      color: var(--color-accent);
    }

    .count-badge {
      position: absolute;
      top: -2px;
      right: -2px;
      width: 18px; // Adjust size if needed
      height: 18px;
      background: var(--color-accent);
      color: white;
      font-size: 10px; // Very small for badge count
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(255, 68, 0, 0.3);
      border: 2px solid white;
    }
  }
}



.mega-menu-wrapper {
  position: static;
  width: 100%;
}

@media (max-width: 360px) {
  .mobile-menu .mobile-menu-footer .user-actions-mobile {
    grid-template-columns: 1fr;

    .action-btn {
      flex-direction: row;
      justify-content: flex-start;
      padding: 12px 16px;

      svg {
        margin-right: 12px;
        margin-bottom: 0;
        font-size: 20px;
      }

      span {
        text-align: left;
      }
    }
  }
}

@media (max-width: 360px) {
  .mobile-menu .mobile-menu-footer .user-actions-mobile {
    grid-template-columns: 1fr;

    .action-btn {
      flex-direction: row;
      justify-content: flex-start;
      padding: 10px 12px;

      svg {
        margin-right: 10px;
        margin-bottom: 0;
        font-size: 18px;
      }

      span {
        text-align: left;
      }

      .count-indicator {
        top: 50%;
        right: 12px;
        transform: translateY(-50%);
      }
    }
  }
}

@media (max-width: 360px) {
  .mobile-menu .mobile-menu-footer .user-actions-mobile.compact-actions {
    .action-btn {
      padding: 8px 10px;
      min-height: 0;

      svg {
        font-size: 16px;
        margin-right: 8px;
      }

      span {
        font-size: 10px;
      }

      .count-indicator {
        right: 8px;
      }
    }
  }
}

.profile-dropdown-container {
  position: relative;

  .profile-icon {
    &:hover + .profile-dropdown,
    & + .profile-dropdown:hover {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
  }

  .profile-dropdown {
    position: absolute;
    // top: calc(100% + 5px);
    right: 0;
    min-width: 200px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: all 0.2s ease;
    z-index: 1000;

    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      color: var(--color-text);
      text-decoration: none;
      transition: background-color 0.2s ease;
      font-size: var(--font-size-sm); // 14px for dropdown items

      svg {
        font-size: 1rem; // 16px for icons
        color: var(--color-gray);
      }

      &:hover {
        background-color: rgba(0, 0, 0, 0.05);
        color: var(--color-accent);

        svg {
          color: var(--color-accent);
        }
      }

      &.logout-item {
        border-top: 1px solid var(--color-gray-light);
        margin-top: 4px;
        color: #dc3545;
        cursor: pointer;

        svg {
          color: #dc3545;
        }

        &:hover {
          background-color: rgba(220, 53, 69, 0.1);
        }
      }
    }
  }
}

// Thêm backdrop mờ
.mobile-menu-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.25s ease;
  will-change: opacity;
}

// Disable scroll trên body khi menu mở
body.menu-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

.mobile-menu {
  position: fixed;
  top: 0;
  left: -100%;
  width: 85%;
  height: 100vh;
  background: white;
  box-shadow: var(--shadow-md);
  z-index: 2000;
  display: flex;
  flex-direction: column;
  padding: 20px;
  transform: translateX(-100%);
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
  overflow-y: auto;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;

  &.active {
    left: 0;
    transform: translateX(0);

    & + .mobile-menu-backdrop {
      opacity: 1;
      visibility: visible;
    }
  }

  .mobile-menu-header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: white;
    
    .submenu-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      height: 60px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);

      h3 {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        margin: 0;
        font-size: 16px;
        font-weight: 600;
      }
    }

    .close-menu,
    .back-button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--color-text);
      transition: all 0.2s ease;

      &:hover {
        background: rgba(0, 0, 0, 0.05);
      }

      &:active {
        transform: scale(0.95);
      }
    }

    .back-button {
      padding: 0 12px;
      width: auto;
      gap: 4px;
      
      span {
        font-size: 14px;
      }
    }
  }

  .menu-content {
    padding: 16px;
    overflow-y: auto;
    height: calc(100vh - 60px);
  }

  .mobile-nav {
    .submenu-view {
      // Add transform properties for smoother transitions
      transform: translateX(0);
      transition: transform 0.3s ease;
      will-change: transform;

      &.exit {
        transform: translateX(100%);
      }
    }
  }
}

@media (max-width: 360px) {
  .mobile-menu .mobile-menu-footer {
    .user-actions-mobile {
      grid-template-columns: 1fr;

      .action-btn {
        padding: 10px;

        svg {
          width: 18px;
          height: 18px;
        }

        span {
          font-size: 12px;
        }
      }
    }

    .mobile-auth-buttons .mobile-btn {
      padding: 10px;
      font-size: 13px;
    }

    .social-links a {
      padding: 6px 10px;
      font-size: 12px;
    }
  }
}

@media (min-width: 361px) and (max-width: 480px) {
  .mobile-menu .mobile-menu-footer {
    padding: 12px 0;

    .user-actions-mobile {
      gap: 6px;

      .action-btn {
        padding: 10px;
      }
    }
  }
}

// Safe area insets for modern mobile devices
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .mobile-menu .mobile-menu-footer {
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
  }
}

@media (max-width: 1024px) {
  .mobile-menu .mobile-menu-header {
    .close-menu {
      width: 42px;
      height: 42px;

      svg {
        font-size: 22px;
      }
    }
  }
}

@media (max-width: 768px) {
  .mobile-menu .mobile-menu-header {
    padding: 0 2px;
    height: 44px;

    .close-menu {
      width: 40px;
      height: 40px;
      right: 2px;

      svg {
        font-size: 20px;
      }
    }
  }
}

@media (max-width: 480px) {
  .mobile-menu .mobile-menu-header {
    margin-bottom: 12px;

    .menu-logo h2 {
      font-size: 1.1rem;
    }

    .close-menu {
      width: 38px;
      height: 38px;
    }
  }
}

@media (max-width: 360px) {
  .mobile-menu .mobile-menu-header {
    height: 40px;
    margin-bottom: 10px;

    .menu-logo h2 {
      font-size: 1rem;
    }

    .close-menu {
      width: 36px;
      height: 36px;

      svg {
        font-size: 18px;
      }
    }
  }
}

// Safe area insets for notched devices
@supports (padding-top: env(safe-area-inset-top)) {
  .mobile-menu .mobile-menu-header {
    padding-top: env(safe-area-inset-top);
    height: calc(48px + env(safe-area-inset-top));
  }
}
// Thêm vào file header.scss
._header_top_svty4_0 {
  display: flex;
  justify-content: space-between; // Thay đổi từ flex-end sang space-between
  background: #fff;
  padding: 0 max(7px, calc((100% - var(--container-width)) / 2));
  // transition: all 0.2s ease;
  height: 32px;
  // border-bottom: 1px solid var(--color-gray-light);

  // Thêm phần left side
  .header-top-left {
    display: flex;
    align-items: center;
    gap: 16px;
    font-size: var(--font-size-xs); // 12px
    color: var(--color-gray);

    .download-app {
      display: flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      
      &:hover {
        color: var(--color-accent);
      }

      i {
        font-size: 14px;
      }
    }

    .social-links {
      display: flex;
      align-items: center;
      gap: 8px;

      .social-link {
        color: var(--color-gray);
        text-decoration: none;
        transition: color 0.2s ease;
        font-size: var(--font-size-xs); // 12px

        &:hover {
          color: var(--color-accent);
        }
      }

      .divider {
        width: 1px;
        height: 12px;
        background: var(--color-gray-light);
      }
    }
  }

  ._header_top_svty4_1 {
    display: flex;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style: none;
    gap: 16px; // Thêm khoảng cách giữa các items

    > li {
      position: relative; // Thêm cho dropdown
      height: 100%;
      display: flex;
      align-items: center;

      // Thêm style cho dropdown
      .top-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        width: 200px;
        background: white;
        border-radius: 4px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        padding: 8px 0;
        opacity: 0;
        visibility: hidden;
        transform: translateY(10px);
        transition: all 0.2s ease;
        z-index: 100;

        .dropdown-item {
          display: flex;
          align-items: center;
          padding: 8px 16px;
          color: var(--color-text);
          font-size: var(--font-size-xs); // 12px
          text-decoration: none;
          transition: background 0.2s ease;

          &:hover {
            background: rgba(0,0,0,0.05);
          }

          i {
            margin-right: 8px;
            font-size: 14px;
          }
        }
      }

      &:hover .top-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      > a, > button {
        display: flex;
        align-items: center;
        gap: 4px;
        color: var(--color-text);
        font-size: var(--font-size-xs); // 12px
        text-decoration: none;
        transition: color 0.2s ease;
        padding: 0 4px;
        background: none;
        border: none;
        cursor: pointer;

        &:hover {
          color: var(--color-accent);
        }

        i {
          font-size: 14px;
        }

        // Thêm indicator cho items có dropdown
        &.has-dropdown::after {
          content: '';
          display: inline-block;
          width: 0;
          height: 0;
          margin-left: 4px;
          border-left: 4px solid transparent;
          border-right: 4px solid transparent;
          border-top: 4px solid currentColor;
          transition: transform 0.2s ease;
        }

        &:hover::after {
          transform: rotate(180deg);
        }
      }
    }

    ._language_selector_svty4_40 {
      button {
        display: flex;
        align-items: center;
        padding: 4px;
        border: none;
        background: transparent;
        cursor: pointer;
        transition: transform 0.2s ease;

        &:hover {
          transform: scale(1.1);
        }

        .gl-flag {
          width: 25px;
          height: auto;
          border-radius: 2px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
      }
    }
  }

  // Responsive styles
  @media (max-width: 960px) {
    display: none;
  }
}

.mobile-nav {
  .submenu-view {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #fff;
    z-index: 2;

    .submenu-header,
    .group-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 4px;
      margin-bottom: 16px;
      height: 48px;
      position: sticky;
      top: 0;
      background: white;
      z-index: 10;

      h3,
      h4 {
        flex: 1;
        text-align: center;
        margin: 0;
      }

      .back-button,
      .close-submenu {
        padding: 0.5rem;
        background: none;
        border: none;
        color: #333;
        display: flex;
        align-items: center;
        gap: 0.5rem;

        &:hover {
          color: #000;
        }
      }
    }

    .submenu-content {
      flex: 1 1;
      overflow-y: auto;
      margin: 0;
      padding: 0 15px;
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      will-change: scroll-position;
    }

    .submenu-groups {
      list-style: none;
      padding: 0;
      margin: 0;

      .group-button {
        width: 100%;
        padding: 1rem;
        text-align: left;
        background: none;
        border: none;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;

        &.highlight {
          font-weight: bold;
          color: #000;
        }

        &:hover {
          background: #f9f9f9;
        }
      }
    }

    .group-items {
      list-style: none;
      padding: 0;
      margin: 0;

      li a {
        display: block;
        padding: 1rem;
        border-bottom: 1px solid #eee;
        color: #333;
        text-decoration: none;

        &:hover {
          background: #f9f9f9;
        }

        &.new-item::after {
          content: "New";
          margin-left: 0.5rem;
          color: #ff0000;
          font-size: 0.8em;
        }
      }
    }
  }

  .main-menu {
    list-style: none;
    padding: 0;
    margin: 0;

    .menu-item {
      width: 100%;
      padding: 1rem;
      text-align: left;
      background: none;
      border: none;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #333;
      text-decoration: none;

      &.special {
        color: #ff0000;
        font-weight: bold;
      }

      &:hover {
        background: #f9f9f9;
      }
    }
  }
  @mixin mobile-list-item {
    width: 100%;
    padding: 14px;
    margin-bottom: 8px;
    text-align: left;
    background: #f8f8f8;
    border: none;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
    font-weight: 500;
    color: var(--color-text);

    &:hover, &:active {
      background: #f0f0f0;
      transform: translateX(2px);
    }
  }
  .submenu-groups {
    list-style: none;
    padding: 0;
    margin: 0 0 16px 0;

    li {
      margin-bottom: 8px;

      .group-button {
        @include mobile-list-item;
        width: 100%;
        cursor: pointer;

        &.highlight {
          background: rgba(255, 68, 0, 0.08);
          color: var(--color-accent);
          font-weight: 600;

          &:hover {
            background: rgba(255, 68, 0, 0.12);
          }
        }

        svg {
          font-size: 18px;
          color: var(--color-gray);
          transition: transform 0.2s ease;
        }
      }
    }
  }.mobile-quick-links {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 16px 0;
    border-top: 1px solid rgba(0, 0, 0, 0.08);

    .mobile-quick-link {
      flex: 1;
      min-width: calc(50% - 4px);
      padding: 12px 16px;
      background: rgba(255, 68, 0, 0.08);
      border-radius: 8px;
      color: var(--color-accent);
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      text-align: center;
      transition: all 0.2s ease;
      
      &:hover {
        background: rgba(255, 68, 0, 0.12);
        transform: translateY(-1px);
      }

      &:active {
        transform: translateY(1px);
      }
    }
  }

    li {
      // margin-bottom: 8px;

      .menu-item {
        @include mobile-list-item;
        text-decoration: none;

        &.special {
          color: var(--color-accent);
          font-weight: 600;
        }

        svg {
          font-size: 18px;
          color: var(--color-gray);
          transition: transform 0.2s ease;
        }
      }
    }


}



// Optimize animations
@keyframes slideOut {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(100%);
  }
}


// Responsive adjustments
@media (max-width: 360px) {
  .mobile-nav {
    .submenu-groups li .group-button,
    .main-menu li .menu-item {
      padding: 12px;
      font-size: 13px;

      svg {
        font-size: 16px;
      }
    }

    .mobile-quick-links .mobile-quick-link {
      padding: 10px;
      font-size: 12px;
      min-width: 100%;
    }
  }
}

// Add ripple effect for touch feedback
@media (pointer: coarse) {
  .mobile-nav {
    .submenu-groups li .group-button,
    .main-menu li .menu-item,
    .mobile-quick-links .mobile-quick-link {
      position: relative;
      overflow: hidden;

      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.1);
        border-radius: inherit;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        transition: transform 0.3s, opacity 0.3s;
      }

      &:active::after {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
        transition: 0s;
      }
    }
  }
}

.menu-content {
  @include menu-content-styles;
  padding: 20px 16px;
  
  .main-menu,
  .group-items {
    @include menu-list-base;
    display: flex;
    flex-direction: column;
    gap: 8px;

    li {
      a, 
      .menu-item {
        @include menu-link-base;
        @include menu-item-base;
        padding: 16px;
        background: #f8f8f8;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.2s ease;
        
        &:hover {
          background: #f0f0f0;
          transform: translateX(2px);
        }

        &:active {
          transform: translateX(4px);
          background: #e8e8e8;
        }

        &.special {
          color: var(--color-accent);
          font-weight: bold;
        }

        &.new-item::after {
          content: "Mới";
          margin-left: 8px;
          padding: 4px 8px;
          font-size: 11px;
          font-weight: 600;
          color: white;
          background: var(--color-accent);
          border-radius: 12px;
        }

        svg {
          font-size: 18px;
          color: var(--color-gray);
          transition: transform 0.2s ease;
        }
      }
    }
  }

}

.social-links {
  .social-link {
    display: flex;
    align-items: center;
    gap: 4px;
    
    svg {
      font-size: 14px;
      transition: transform 0.2s ease;
    }

    &:hover {
      color: var(--color-accent);
      
      svg {
        transform: scale(1.1);
      }
    }
  }
}

/* Enhanced Mobile Menu Styles */
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 85%;
  max-width: 400px;
  height: 100vh;
  background: white;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.1);
  z-index: 2001;
  display: flex;
  flex-direction: column;
  transform: translateX(-100%);
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
  overflow: hidden;
  backface-visibility: hidden;

  &.active {
    transform: translateX(0);
  }

  .mobile-menu-header {
    position: relative;
    height: 64px;
    padding: 0 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    background: linear-gradient(to right, rgba(255, 255, 255, 0.95), rgba(248, 248, 248, 0.95));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 10;

    .menu-brand {
      h2 {
        margin: 0;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--color-primary);

        span {
          color: var(--color-accent);
        }
      }
    }

    .submenu-header {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;

      h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: 600;
        color: var(--color-primary);
      }

      .back-button {
        position: absolute;
        left: 0;
        background: none;
        border: none;
        display: flex;
        align-items: center;
        gap: 4px;
        color: var(--color-text);
        font-size: 0.875rem;
        padding: 6px 10px;
        border-radius: 20px;
        cursor: pointer;
        transition: background 0.15s ease;

        &:hover, &:active {
          background: rgba(0, 0, 0, 0.05);
        }

        svg {
          font-size: 1rem;
        }
      }
    }

    .close-menu {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.04);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--color-text);
      transition: all 0.2s ease;
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);

      svg {
        font-size: 1.25rem;
      }

      &:hover, &:active {
        background: rgba(0, 0, 0, 0.08);
        transform: translateY(-50%) scale(1.05);
      }

      &:active {
        transform: translateY(-50%) scale(0.95);
      }
    }
  }

  .mobile-nav {
    flex: 1;
    overflow-y: auto;
    overscroll-behavior: contain;
    position: relative;
    
    .menu-content {
      padding: 16px;
    
      .main-menu,
      .submenu-groups,
      .group-items {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
      
        li {
          .menu-item,
          .group-button,
          .menu-link {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: none;
            background: #f8f8f8;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: var(--color-text);
            font-size: 0.95rem;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.02);
            position: relative;
            overflow: hidden;

            &:after {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(255,255,255,0));
              pointer-events: none;
            }
            
            &.bold {
              font-weight: 700;
            }
            
            &.special {
              color: var(--color-accent);
              background: rgba(255, 68, 0, 0.08);
              
              &:hover, &:active {
                background: rgba(255, 68, 0, 0.12);
              }
            }
            
            &.highlight {
              background: rgba(255, 68, 0, 0.08);
              color: var(--color-accent);
              font-weight: 600;
              
              &:hover, &:active {
                background: rgba(255, 68, 0, 0.12);
              }
            }
            
            &:hover {
              background: #f2f2f2;
              transform: translateX(2px);
            }
            
            &:active {
              transform: translateX(4px) scale(0.98);
              background: #eee;
            }
            
            svg {
              font-size: 1.125rem;
              color: #888;
              margin-left: 8px;
              transition: transform 0.2s ease;
            }
            
            .tag-new,
            .tag-sale,
            .tag-hot {
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 0.7rem;
              font-weight: 600;
              margin-left: auto;
              text-transform: uppercase;
            }
            
            .tag-new {
              background: var(--color-accent);
              color: white;
            }
            
            .tag-sale {
              background: #ff3c00;
              color: white;
            }
            
            .tag-hot {
              background: #ff9500;
              color: white;
            }
          }
        }
      }
      
      .mobile-featured-image {
        margin: 20px 0;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        
        img {
          width: 100%;
          height: auto;
          display: block;
          object-fit: cover;
        }
        
        .mobile-featured-content {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          padding: 20px;
          background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0));
          color: white;
          
          h4 {
            margin: 0 0 8px;
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
          }
          
          p {
            margin: 0 0 12px;
            font-size: 0.875rem;
            opacity: 0.9;
          }
          
          .featured-link {
            display: inline-block;
            padding: 8px 16px;
            background: var(--color-accent);
            color: white;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s ease;
            
            &:hover, &:active {
              background: darken(#ff4400, 5%);
              transform: translateY(-2px);
            }
            
            &:active {
              transform: translateY(0);
            }
          }
        }
      }
      
      .mobile-quick-links {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 16px;
        
        .mobile-quick-link {
          flex: 1;
          min-width: calc(50% - 4px);
          padding: 10px 12px;
          background: rgba(255, 68, 0, 0.08);
          border-radius: 8px;
          color: var(--color-accent);
          font-size: 0.875rem;
          font-weight: 500;
          text-decoration: none;
          text-align: center;
          transition: all 0.2s ease;
          
          &:hover {
            background: rgba(255, 68, 0, 0.12);
            transform: translateY(-1px);
          }
          
          &:active {
            transform: translateY(1px);
          }
        }
      }
    }
  }

  .mobile-menu-footer {
    padding: 16px;
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    background: linear-gradient(to bottom, rgba(248, 248, 248, 0.95), rgba(255, 255, 255, 0.95));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    
    .user-actions-mobile {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-bottom: 16px;
      
      .action-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 12px;
        background: white;
        border-radius: 10px;
        text-decoration: none;
        color: var(--color-text);
        position: relative;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        
        svg {
          font-size: 1.25rem;
          color: var(--color-accent);
        }
        
        span {
          font-size: 0.875rem;
          font-weight: 500;
        }
        
        .count-indicator {
          position: absolute;
          top: 8px;
          right: 8px;
          min-width: 18px;
          height: 18px;
          padding: 0 4px;
          border-radius: 9px;
          background: var(--color-accent);
          color: white;
          font-size: 0.75rem;
          font-weight: 600;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        &:hover {
          background: #f9f9f9;
          transform: translateY(-2px);
          box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
        }
        
        &:active {
          transform: translateY(0) scale(0.98);
        }
      }
      
      &.compact-actions {
        .action-btn {
          flex-direction: row;
          justify-content: flex-start;
          padding: 10px 12px;
          
          svg {
            margin-right: 8px;
            margin-bottom: 0;
          }
          
          span {
            text-align: left;
          }
        }
      }
    }
    
    .mobile-auth-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 16px;
      
      .mobile-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px;
        border-radius: 10px;
        font-size: 0.95rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s ease;
        border: none;
        cursor: pointer;
        
        svg {
          font-size: 1.125rem;
        }
        
        &:not(.accent) {
          background: #f0f0f0;
          color: var(--color-text);
          
          &:hover {
            background: #e8e8e8;
          }
          
          &:active {
            transform: scale(0.98);
          }
        }
        
        &.accent {
          background: var(--color-accent);
          color: white;
          
          &:hover {
            background: darken(#ff4400, 5%);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 68, 0, 0.2);
          }
          
          &:active {
            transform: translateY(0) scale(0.98);
          }
        }
      }
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 16px;
      padding-top: 10px;
      border-top: 1px solid rgba(0, 0, 0, 0.08);
      
      a {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 12px;
        border-radius: 8px;
        background: white;
        color: var(--color-text);
        font-size: 0.875rem;
        text-decoration: none;
        transition: all 0.2s ease;
        
        svg {
          font-size: 1rem;
          color: var(--color-accent);
        }
        
        &:hover {
          background: #f8f8f8;
          transform: translateY(-2px);
        }
        
        &:active {
          transform: translateY(0) scale(0.98);
        }
      }
    }
  }
}

/* Enhanced mobile menu backdrop */
.mobile-menu-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.25s ease, visibility 0.25s ease;
  will-change: opacity;
}

/* Ripple effect for touch feedback */
@keyframes ripple {
  to {
    transform: scale(2);
    opacity: 0;
  }
}

/* Safe area inset support for notched devices */
@supports (padding-top: env(safe-area-inset-top)) {
  .mobile-menu .mobile-menu-header {
    padding-top: env(safe-area-inset-top);
  }
}

@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .mobile-menu .mobile-menu-footer {
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
  }
}

/* Completely Redesigned Mobile Menu Styles */
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 90%;
  max-width: 400px;
  height: 100%;
  background-color: #fff;
  z-index: 2001;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.15);
  transform: translateX(-100%);
  will-change: transform;
  backface-visibility: hidden;
  
  /* Header Styling */
  .mobile-menu-header {
    padding: 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    
    .nav-header {
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      padding: 0 16px;
      background: #ffffff;
      
      &.main {
        .brand-logo {
          h2 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-primary);
            
            span {
              color: var(--color-accent);
            }
          }
        }
      }
      
      h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: 600;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        text-transform: uppercase;
      }
      
      .back-button, 
      .close-button {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: transparent;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--color-text);
        cursor: pointer;
        transition: background-color 0.2s ease;
        
        &:active {
          background-color: rgba(0, 0, 0, 0.05);
        }
        
        svg {
          font-size: 20px;
        }
      }
    }
  }
  
  /* User Profile Bar Styling */
  .user-profile-bar {
    padding: 16px;
    background-color: #f9f9f9;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    
    .logged-user {
      display: flex;
      align-items: center;
      
      .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        color: var(--color-primary);
        
        svg {
          font-size: 20px;
        }
      }
      
      .user-info {
        flex: 1;
        
        .welcome {
          margin: 0;
          font-size: 0.75rem;
          color: var(--color-gray);
        }
        
        .name {
          margin: 0;
          font-size: 0.9rem;
          font-weight: 600;
          color: var(--color-primary);
        }
      }
      
      .profile-action {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: var(--color-accent);
        font-size: 0.8rem;
        font-weight: 500;
        
        svg {
          font-size: 16px;
          margin-left: 4px;
        }
      }
    }
    
    .guest-user {
      display: flex;
      align-items: center;
      
      .icon {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-size: 20px;
        color: var(--color-primary);
      }
      
      .auth-actions {
        display: flex;
        align-items: center;
        
        .login-btn, 
        .register-btn {
          text-decoration: none;
          font-size: 0.95rem;
          font-weight: 600;
          color: var(--color-primary);
        }
        
        .divider {
          margin: 0 8px;
          color: var(--color-gray);
        }
      }
    }
  }
  
  /* Navigation Wrapper Styling */
  .mobile-nav-wrapper {
    flex: 1;
    overflow-y: auto;
    padding: 0;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
    
    .menu-view {
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }
    
    .section-title {
      margin: 0 0 12px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      color: var(--color-gray);
      letter-spacing: 0.05em;
    }
    
    /* Menu Section Styling */
    .menu-section {
      margin-bottom: 8px;
      
      &.primary {
        margin-bottom: 20px;
        
        .menu-item-list {
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
          border-radius: 12px;
          overflow: hidden;
          
          .menu-item {
            margin-bottom: 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.03);
            
            &:last-child {
              border-bottom: none;
            }
            
            .item-button, 
            .item-link {
              border-radius: 0;
              background-color: white;
              box-shadow: none;
              padding: 16px;
            }
          }
        }
      }
      
      .menu-item-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
        
        .menu-item {
          margin-bottom: 0;
          
          &.special .item-name {
            color: var(--color-accent);
            font-weight: 600;
          }
          
          &.highlighted {
            .item-button {
              background-color: rgba(0, 0, 0, 0.05); /* Changed from orange */
              border-left: 3px solid var(--color-accent);
              
              .item-name {
                color: var(--color-accent);
                font-weight: 600;
              }
            }
          }
          
          .item-button, 
          .item-link {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            background-color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            text-decoration: none;
            color: var(--color-text);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
            text-align: left;
            
            .item-name {
              flex: 1;
            }
            
            .icon-right {
              font-size: 18px;
              color: #aaa;
              margin-left: 8px;
              flex-shrink: 0;
            }
            
            .item-tag {
              font-size: 0.7rem;
              font-weight: 600;
              padding: 3px 8px;
              border-radius: 10px;
              margin-left: 8px;
              text-transform: uppercase;
              flex-shrink: 0;
              
              &.new {
                background-color: var(--color-accent); /* Changed from orange */
                color: white;
              }
              
              &.sale {
                background-color: #202020; /* Changed from orange */
                color: white;
              }
              
              &.hot {
                background-color: #404040; /* Changed from orange */
                color: white;
              }
            }
            
            &:active {
              transform: scale(0.98);
              background-color: rgba(0, 0, 0, 0.02);
            }
          }
        }
      }
    }
    
    /* Featured Section Styling */
    .featured-section {
      .featured-content {
        position: relative;
        border-radius: 12px;
        overflow: hidden;
        height: 180px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        
        .featured-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        
        .featured-overlay {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          padding: 20px;
          background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0));
          color: white;
          
          h5 {
            margin: 0 0 8px;
            font-size: 1.1rem;
            font-weight: 600;
          }
          
          p {
            margin: 0 0 12px;
            font-size: 0.85rem;
            opacity: 0.9;
          }
          
          .featured-btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: var(--color-accent);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
          }
        }
      }
    }
    
    /* Quick Links Section Styling */
    .quick-links-section {
      .quick-links {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        
        .quick-link {
          flex: 1;
          min-width: calc(50% - 4px);
          padding: 10px 12px;
          background-color: #f5f5f5;
          color: var(--color-accent); /* This will now be black */
          font-size: 0.85rem;
          font-weight: 500;
          text-decoration: none;
          text-align: center;
          transition: all 0.2s ease;
          
          &:active {
            background-color: #eee;
            transform: translateY(1px);
          }
        }
      }
    }
    
    /* Outlet Section Styling */
    .outlet-section {
      .outlet-card {
        background: linear-gradient(135deg, #000000, #333333); /* Changed from orange gradient */
        padding: 20px;
        border-radius: 12px;
        color: white;
        text-align: center;
        box-shadow: 0 4px 12px rgba(255, 69, 0, 0.2);
        
        h4 {
          margin: 0 0 8px;
          font-size: 1.2rem;
          font-weight: 700;
        }
        
        p {
          margin: 0 0 16px;
          font-size: 0.9rem;
          opacity: 0.9;
        }
        
        .outlet-button {
          background-color: white;
          color: var(--color-accent); /* Now black */
          border: none;
          border-radius: 25px;
          padding: 10px 20px;
          font-size: 0.95rem;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
          
          &:active {
            transform: translateY(2px);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          }
        }
      }
    }
    
    /* Quick Actions Section Styling */
    .quick-actions-section {
      .quick-actions {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        
        .action-tile {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background-color: white;
          border-radius: 12px;
          padding: 16px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
          color: var(--color-text);
          text-decoration: none;
          position: relative;
          border: none;
          cursor: pointer;
          
          .action-icon {
            font-size: 24px;
            color: var(--color-accent); /* Now black */
            margin-bottom: 8px;
          }
          
          .action-name {
            font-size: 0.85rem;
            font-weight: 500;
          }
          
          .count-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            min-width: 20px;
            height: 20px;
            border-radius: 10px;
            background-color: var(--color-accent); /* Now black */
            color: white;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 6px;
          }
          
          &:active {
            transform: scale(0.98);
            background-color: #f9f9f9;
          }
        }
      }
    }
  }
  
  /* Footer Styling */
  .mobile-menu-footer {
    padding: 16px;
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    background-color: #f9f9f9;
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 12px;
      
      .social-link {
        color: var(--color-primary);
        text-decoration: none;
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        gap: 6px;
        
        svg {
          font-size: 16px;
          color: var(--color-accent); /* Now black */
        }
      }
    }
    
    .contact-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      
      .contact-link {
        color: var(--color-gray);
        text-decoration: none;
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        gap: 6px;
        
        svg {
          font-size: 14px;
          color: var(--color-accent); /* Now black */
        }
      }
    }
  }
}

.mobile-menu-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
}

/* For devices with safe area insets */
@supports (padding-top: env(safe-area-inset-top)) {
  .mobile-menu .mobile-menu-header {
    padding-top: env(safe-area-inset-top);
  }
}

@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .mobile-menu .mobile-menu-footer {
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
  }
}

.mobile-menu {
  // ...existing code...
  
  .mobile-nav-wrapper {
    .menu-section {
      // Enhanced section styling
      &.primary {
        background: linear-gradient(to bottom, #fff, #f8f8f8);
        border-radius: 16px;
        padding: 12px;
        margin-bottom: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);

        .menu-item-list .menu-item {
          border-radius: 12px;
          margin-bottom: 8px;
          background: #fff;
          transition: all 0.2s ease;

          &:last-child {
            margin-bottom: 0;
          }

          .item-button, 
          .item-link {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            
            svg {
              font-size: 20px;
              color: #666;
            }

            &:active {
              background: rgba(0,0,0,0.02);
            }
          }
        }
      }
    }

    .mobile-quick-links {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin: 16px 0;

      .quick-link {
        background: #f8f8f8;
        padding: 16px;
        border-radius: 12px;
        text-align: center;
        font-weight: 500;
        color: var(--color-accent);
        transition: all 0.2s ease;

        &:active {
          transform: scale(0.98);
          background: #f0f0f0;
        }
      }
    }
  }

  .mobile-menu-footer {
    padding: 16px;
    background: #fff;
    border-top: 1px solid rgba(0,0,0,0.06);

    .footer-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 16px;

      .action-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        padding: 12px;
        border-radius: 12px;
        background: #f8f8f8;
        
        svg {
          font-size: 20px;
          color: var(--color-accent);
        }

        span {
          font-size: 12px;
          font-weight: 500;
          text-align: center;
        }

        &:active {
          background: #f0f0f0;
          transform: scale(0.98);
        }
      }
    }
  }
}





